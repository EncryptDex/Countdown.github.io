<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Countdown to December 2, 2025 9:27 AM</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, #1e1e1e, #121212);
            color: #c0c0c0;
            margin: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #container {
            max-width: 720px;
            width: 100%;
            background-color: #222;
            border-radius: 16px;
            padding: 30px 25px 40px 25px;
            box-shadow: 0 0 30px rgba(0,0,0,0.8);
            transition: box-shadow 0.3s ease;
            position: relative;
        }
        #container:hover {
            box-shadow: 0 0 40px rgba(229,57,53,0.7);
        }
        h1 {
            color: #d0d0d0;
            text-shadow: 0 0 8px rgba(255,255,255,0.15);
            margin-bottom: 12px;
            font-weight: 700;
            font-size: 1.8em;
        }
        #description {
            color: #b0b0b0;
            font-size: 1.15em;
            margin-top: 0;
            margin-bottom: 30px;
            font-weight: 500;
        }
        #countdown {
            font-size: 2em;
            color: #e53935;
            text-shadow: 0 0 15px rgba(229,57,53,0.7);
            margin-top: 10px;
            font-weight: 700;
            letter-spacing: 0.15em;
            animation: pulse 2s infinite;
            display: flex;
            justify-content: center;
            gap: 1em;
        }
        #message {
            font-size: 2.8em;
            color: #e53935;
            margin-top: 30px;
            text-shadow: 0 0 10px rgba(229,57,53,0.7);
            font-weight: 700;
        }
        .time-segment {
            display: inline-block;
            min-width: 70px;
            text-align: center;
        }
        #profile-image {
            width: 130px;
            height: 130px;
            border-radius: 50%;
            display: block;
            margin: 0 auto 15px auto;
            box-shadow: 0 0 15px #555;
            transition: box-shadow 0.3s ease;
            object-fit: cover;
        }
        #profile-image:hover {
            box-shadow: 0 0 30px #e53935;
        }
        #profile-name {
            color: #b0b0b0;
            font-size: 1.7em;
            margin-bottom: 25px;
            text-align: center;
            font-weight: 700;
            font-family: 'Poppins', sans-serif;
        }
        @keyframes pulse {
            0%, 100% {
                text-shadow: 0 0 15px rgba(229,57,53,0.7);
            }
            50% {
                text-shadow: 0 0 25px rgba(229,57,53,1);
            }
        }
        @media (max-width: 480px) {
            body {
                padding: 20px 10px;
            }
            #container {
                max-width: 100%;
                padding: 20px 15px 30px 15px;
            }
            h1 {
                font-size: 1.4em;
            }
            #description {
                font-size: 1em;
                margin-bottom: 20px;
            }
            #countdown {
                font-size: 1.8em;
                gap: 0.5em;
            }
            #message {
                font-size: 2em;
                margin-top: 20px;
            }
            #profile-image {
                width: 100px;
                height: 100px;
                margin-bottom: 15px;
            }
            #profile-name {
                font-size: 1.3em;
                margin-bottom: 15px;
            }
            #rbx-banned-list-label {
                left: 20px;
                font-size: 1.4em;
            }
        }
        /* Modified position for the banned list label */
        #rbx-banned-list-label {
            position: absolute;
            top: 20px;
            left: 20px; /* Changed from 50px to 20px to move more left */
            font-weight: 700;
            font-size: 1.8em;
            color: #e53935;
            font-family: 'Poppins', sans-serif;
            user-select: none;
            pointer-events: none;
            z-index: 10;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        #rbx-banned-list-label img {
            width: 32px;
            height: 32px;
            user-select: none;
            pointer-events: none;
        }
        #target-date, #time-served {
            margin-top: 15px;
            font-size: 0.9em;
            color: #b0b0b0;
        }
        #progress-container {
            position: relative;
            width: 100%;
            height: 24px;
            background-color: #444;
            border-radius: 6px;
            margin-top: 20px;
            overflow: hidden;
            color: #fff;
            font-weight: 700;
            font-size: 0.9em;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #progress-bar {
            height: 100%;
            width: 0%;
            background-color: #e53935;
            border-radius: 6px;
            transition: width 0.5s ease;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }
        #progress-percent {
            position: relative;
            z-index: 2;
            width: 100%;
            text-align: center;
            user-select: none;
        }
        /* New styles for additional features */
        .info-box {
            background-color: #2a2a2a;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            text-align: left;
            border-left: 4px solid #e53935;
        }
        .info-box h3 {
            margin-top: 0;
            color: #e53935;
            font-size: 1.2em;
        }
        .info-box p {
            margin-bottom: 0;
        }
        .stats-container {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            margin: 20px 0;
            gap: 10px; /* Added gap for better spacing */
        }
        .stat-box {
            background-color: #2a2a2a;
            border-radius: 8px;
            padding: 12px;
            flex: 1;
            min-width: 130px; /* Adjusted min-width for better fit */
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
        }
        .stat-box .stat-value {
            font-size: 1.5em;
            font-weight: 700;
            color: #e53935;
            margin: 5px 0;
        }
        .stat-box .stat-label {
            font-size: 0.9em;
            color: #b0b0b0;
        }
        .milestone {
            display: flex;
            align-items: center;
            margin: 10px 0;
            padding: 10px;
            background-color: rgba(46, 46, 46, 0.5);
            border-radius: 8px;
        }
        .milestone-icon {
            font-size: 1.5em;
            margin-right: 10px;
            color: #e53935;
        }
        .milestone-content {
            text-align: left;
            flex: 1;
        }
        .milestone-date {
            font-weight: 700;
            color: #e53935;
        }
        .milestone-text {
            color: #b0b0b0;
            font-size: 0.9em;
        }
        #social-links {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        .social-link {
            color: #b0b0b0;
            font-size: 1.5em;
            transition: color 0.3s ease;
        }
        .social-link:hover {
            color: #e53935;
        }
        #notification-toggle {
            background-color: #e53935;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
            transition: background-color 0.3s ease;
        }
        #notification-toggle:hover {
            background-color: #c62828;
        }
        #milestone-container {
            margin-top: 20px;
        }
        #time-display-options { /* Adjusted styles for remaining elements */
            margin-top: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px; /* Reduced gap */
        }
        #time-until-container {
            margin-top: 10px;
        }
        #time-until, #time-served-value {
            font-weight: 700;
            color: #e53935;
        }
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: pointer;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.8em;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        #timezone-info {
            font-size: 0.8em;
            color: #888;
            /* Removed margin-top: 5px as it's now part of time-display-options gap */
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="rbx-banned-list-label"><img src="roblox.png" alt="Roblox Logo" />BannedList.com</div>
        <img src="henclin.png" alt="Profile" id="profile-image" />
        <div id="profile-name">Henclin</div>
        <h1>Countdown to Account Unban</h1>
        <p id="description">Time remaining until Henclin's account is unbanned on Roblox</p>
        
        <div id="countdown"></div>
        <div id="message"></div>
        
        <div id="time-display-options">
            <div id="time-until-container">
                Unban will occur on <span id="time-until"></span>
            </div>
            <div id="timezone-info">Times displayed in your local timezone</div>
        </div>
        
        <div id="time-served">Time Served: <span id="time-served-value">0d 0h 0m 0s</span></div>

        <div id="progress-container">
            <div id="progress-bar"></div>
            <div id="progress-percent">0%</div>
        </div>
        
        <div class="stats-container">
            <div class="stat-box">
                <div class="stat-label">Days Remaining</div>
                <div class="stat-value" id="stat-days">0</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Percent Complete</div>
                <div class="stat-value" id="stat-percent">0%</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Current Phase</div>
                <div class="stat-value" id="stat-phase">Early</div>
            </div>
        </div>
        
        <div class="info-box">
            <h3><i class="fas fa-info-circle"></i> About This Ban</h3>
            <p>This account was banned on **June 2, 2025 at 09:27 AM WIB** for a duration of 6 months. The unban process is automatic and will occur precisely at the scheduled time.</p>
        </div>
        
        <div id="milestone-container">
            <h3>Unban Progress Milestones</h3>
            <div class="milestone">
                <div class="milestone-icon"><i class="fas fa-flag"></i></div>
                <div class="milestone-content">
                    <div class="milestone-date">25% Complete</div>
                    <div class="milestone-text">Quarter of the way through the ban period</div>
                </div>
            </div>
            <div class="milestone">
                <div class="milestone-icon"><i class="fas fa-chart-line"></i></div>
                <div class="milestone-content">
                    <div class="milestone-date">50% Complete</div>
                    <div class="milestone-text">Halfway point reached in the ban duration</div>
                </div>
            </div>
            <div class="milestone">
                <div class="milestone-icon"><i class="fas fa-bolt"></i></div>
                <div class="milestone-content">
                    <div class="milestone-date">75% Complete</div>
                    <div class="milestone-text">Final stretch - unban approaching soon</div>
                </div>
            </div>
            <div class="milestone">
                <div class="milestone-icon"><i class="fas fa-trophy"></i></div>
                <div class="milestone-content">
                    <div class="milestone-date">100% Complete</div>
                    <div class="milestone-text">Account unbanned and ready to play!</div>
                </div>
            </div>
        </div>
        
        <div class="info-box">
            <h3><i class="fas fa-bell"></i> Notification Options</h3>
            <p>Get notified when the countdown completes or reaches important milestones.</p>
            <button id="notification-toggle">Enable Notifications</button>
            <div class="tooltip" style="display: inline-block; margin-left: 10px;">
                <i class="fas fa-question-circle"></i>
                <span class="tooltiptext">Browser notifications will alert you when important milestones are reached</span>
            </div>
        </div>
        
        <div id="social-links">
            <a href="https://twitter.com/intent/tweet?text=Counting%20down%20to%20Henclin%27s%20Roblox%20unban!%20Check%20it%20out%3A%20[YOUR_PAGE_URL]" class="social-link" target="_blank" title="Share on Twitter"><i class="fab fa-twitter"></i></a>
            <a href="https://discord.gg/[YOUR_DISCORD_INVITE]" class="social-link" target="_blank" title="Join Discord"><i class="fab fa-discord"></i></a>
            <a href="https://www.youtube.com/[YOUR_YOUTUBE_CHANNEL]" class="social-link" target="_blank" title="Subscribe on YouTube"><i class="fab fa-youtube"></i></a>
            <a href="https://www.twitch.tv/[YOUR_TWITCH_CHANNEL]" class="social-link" target="_blank" title="Follow on Twitch"><i class="fab fa-twitch"></i></a>
             <a href="#" class="social-link" id="copy-link" title="Copy Page Link"><i class="fas fa-link"></i></a>
        </div>
    </div>
    
    <script>
        const countdownElement = document.getElementById('countdown');
        const messageElement = document.getElementById('message');
        const targetDate = new Date('December 2, 2025 09:27:00 AM UTC+0700').getTime(); // Assuming WIB is UTC+7
        const progressBar = document.getElementById('progress-bar');
        const progressPercentText = document.getElementById('progress-percent');
        const startDate = new Date('June 2, 2025 09:27:00 AM UTC+0700').getTime(); // Assuming WIB is UTC+7
        const timeUntilElement = document.getElementById('time-until');
        const timeServedValueElement = document.getElementById('time-served-value');
        const statDaysElement = document.getElementById('stat-days');
        const statPercentElement = document.getElementById('stat-percent');
        const statPhaseElement = document.getElementById('stat-phase');
        const notificationToggle = document.getElementById('notification-toggle');
        const copyLinkButton = document.getElementById('copy-link');

        // IMPORTANT: Replace with your actual Discord webhook URL if you're using it
        const webhookUrl = 'https://discord.com/api/webhooks/1379038305831620638/NBIvFrPcOJ2wcCCnNjNg2H8HbCl-WKC21z6Hav44kuTGvatklsci2hwT2NUejT6XSwoG';
        
        let notificationPermission = Notification.permission === 'granted'; // Check initial permission
        if ('Notification' in window && Notification.permission !== 'denied') {
            updateNotificationButton(); // Update button even if not granted yet
        } else if (Notification.permission === 'denied') {
            notificationToggle.textContent = 'Notifications Blocked';
            notificationToggle.style.backgroundColor = '#666';
            notificationToggle.disabled = true;
        }

        function updateNotificationButton() {
            if (!('Notification' in window)) {
                notificationToggle.style.display = 'none';
                return;
            }
            
            if (notificationPermission) {
                notificationToggle.textContent = 'Notifications Enabled';
                notificationToggle.style.backgroundColor = '#4CAF50';
            } else {
                notificationToggle.textContent = 'Enable Notifications';
                notificationToggle.style.backgroundColor = '#e53935';
            }
        }
        
        notificationToggle.addEventListener('click', () => {
            if (!('Notification' in window)) return;
            
            if (Notification.permission === 'denied') {
                alert('Notifications have been blocked by your browser. Please enable them in your site settings.');
                return;
            }
            
            if (Notification.permission === 'granted') {
                // If already granted, assume user wants to disable (no direct way to revoke via JS)
                // For a more robust solution, you might store this preference in localStorage.
                notificationPermission = false;
                updateNotificationButton();
                alert('Notifications are still enabled at browser level, but we will not send them from this page.');
            } else {
                Notification.requestPermission().then(permission => {
                    notificationPermission = permission === 'granted';
                    updateNotificationButton();
                    
                    if (permission === 'granted') {
                        showNotification('Countdown Notifications Enabled', 'You will be notified at important milestones.');
                    }
                });
            }
        });
        
        function showNotification(title, body) {
            if (!notificationPermission || !('Notification' in window) || Notification.permission !== 'granted') return;
            
            const options = {
                body: body,
                icon: 'https://cdn-icons-png.flaticon.com/512/2920/2920250.png'
            };
            
            new Notification(title, options);
        }
        
        function formatTime(milliseconds) {
            const days = Math.floor(milliseconds / (1000 * 60 * 60 * 24));
            const hours = Math.floor((milliseconds % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((milliseconds % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((milliseconds % (1000 * 60)) / 1000);
            return { days, hours, minutes, seconds };
        }
        
        // Modified formatUnbanDateTime to always use local timezone
        function formatUnbanDateTime(targetTimestamp) {
            const date = new Date(targetTimestamp);
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: true, // Use 12-hour format with AM/PM
                timeZoneName: 'short' // Display local timezone abbreviation
            };
            return date.toLocaleDateString(undefined, options);
        }
        
        async function sendWebhook(timeObj, elapsedObj, progressPercent) {
            try {
                const progressBarLength = 20;
                const filledLength = Math.round(progressBarLength * (progressPercent / 100));
                const emptyLength = progressBarLength - filledLength;
                const discordProgressBar = '🟥'.repeat(filledLength) + '⬜'.repeat(emptyLength);

                let statusMessage = "Keep going!";
                if (progressPercent >= 100) {
                    statusMessage = "🎉 Countdown finished! Account unbanned! 🎉";
                } else if (progressPercent > 75) {
                    statusMessage = "Almost there!";
                } else if (progressPercent > 50) {
                    statusMessage = "More than halfway done!";
                } else if (progressPercent > 25) {
                    statusMessage = "Making progress!";
                }

                await fetch(webhookUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        embeds: [
                            {
                                title: "🚀 Henclin Unban Countdown 🚀",
                                description: statusMessage,
                                color: 0xe53935,
                                author: {
                                    name: "Henclin Countdown Bot",
                                    icon_url: "https://cdn-icons-png.flaticon.com/512/2920/2920250.png"
                                },
                                fields: [
                                    {
                                        name: "Time Remaining",
                                        value: `${timeObj.days}d ${timeObj.hours}h ${timeObj.minutes}m ${timeObj.seconds}s`,
                                        inline: true
                                    },
                                    {
                                        name: "Time Served",
                                        value: `${elapsedObj.days}d ${elapsedObj.hours}h ${elapsedObj.minutes}m ${elapsedObj.seconds}s`,
                                        inline: true
                                    },
                                    {
                                        name: "Progress",
                                        value: discordProgressBar,
                                        inline: false
                                    },
                                    {
                                        name: "Percentage Complete",
                                        value: `${progressPercent.toFixed(2)}%`,
                                        inline: true
                                    }
                                ],
                                footer: {
                                    text: "Henclin Unban Countdown",
                                    icon_url: "https://cdn-icons-png.flaticon.com/512/2920/2920250.png"
                                },
                                timestamp: new Date().toISOString()
                            }
                        ]
                    }),
                });
            } catch (error) {
                console.error('Error sending webhook:', error);
            }
        }

        let lastMilestone = 0;
        let lastWebhookSentHour = -1; // To track hourly webhook sending

        function updateCountdown() {
            const now = new Date().getTime();
            const distance = targetDate - now;
            const totalDuration = targetDate - startDate;
            const elapsed = now - startDate;
            const progressPercent = Math.min((elapsed / totalDuration) * 100, 100);
            
            // Update time served display
            const { days: elapsedDays, hours: elapsedHours, minutes: elapsedMinutes, seconds: elapsedSeconds } = formatTime(elapsed);
            timeServedValueElement.textContent = `${elapsedDays}d ${elapsedHours}h ${elapsedMinutes}m ${elapsedSeconds}s`;

            // Update target date display (always local timezone now)
            timeUntilElement.textContent = formatUnbanDateTime(targetDate);

            if (distance <= 0) {
                countdownElement.style.display = 'none';
                messageElement.textContent = 'Account Unbanned!';
                progressBar.style.width = '100%';
                progressPercentText.textContent = '100%';
                statDaysElement.textContent = '0';
                statPercentElement.textContent = '100%';
                statPhaseElement.textContent = 'Completed';
                
                if (lastMilestone !== 100 && notificationPermission) {
                    showNotification('Account Unbanned!', 'Henclin\'s account has been unbanned on Roblox!');
                    sendWebhook(formatTime(0), formatTime(totalDuration), 100); // Send final webhook
                    lastMilestone = 100;
                }
                
                clearInterval(intervalId);
                return;
            }

            const { days, hours, minutes, seconds } = formatTime(distance);

            countdownElement.innerHTML = 
                '<span class="time-segment">' + days + 'd</span>' + 
                '<span class="time-segment">' + hours + 'h</span>' + 
                '<span class="time-segment">' + minutes + 'm</span>' + 
                '<span class="time-segment">' + seconds + 's</span>';

            progressBar.style.width = progressPercent + '%';
            progressPercentText.textContent = progressPercent.toFixed(2) + '%';
            
            statDaysElement.textContent = days;
            statPercentElement.textContent = progressPercent.toFixed(2) + '%';
            statPhaseElement.textContent = getPhase(progressPercent);
            
            // Check for milestones and send notifications
            const currentMilestone = Math.floor(progressPercent / 25) * 25;
            if (currentMilestone > lastMilestone && notificationPermission && currentMilestone <= 75) { // Only notify up to 75%, 100% handled separately
                let milestoneMessage = '';
                switch(currentMilestone) {
                    case 25:
                        milestoneMessage = '25% complete - Quarter of the way through!';
                        break;
                    case 50:
                        milestoneMessage = '50% complete - Halfway there!';
                        break;
                    case 75:
                        milestoneMessage = '75% complete - Final stretch!';
                        break;
                }
                
                if (milestoneMessage) {
                    showNotification('Countdown Milestone Reached', milestoneMessage);
                    lastMilestone = currentMilestone;
                    // You could also send a webhook for milestones if desired
                }
            }

            // Send webhook every hour
            const currentHour = new Date().getHours();
            if (currentHour !== lastWebhookSentHour && distance > 0) {
                sendWebhook(formatTime(distance), formatTime(elapsed), progressPercent);
                lastWebhookSentHour = currentHour;
            }
        }

        // Copy link functionality
        copyLinkButton.addEventListener('click', (event) => {
            event.preventDefault(); // Prevent default link behavior
            const pageUrl = window.location.href;
            navigator.clipboard.writeText(pageUrl).then(() => {
                alert('Page link copied to clipboard!');
            }).catch(err => {
                console.error('Failed to copy text: ', err);
            });
        });

        updateCountdown();
        const intervalId = setInterval(updateCountdown, 1000);
    </script>
</body>
</html>
